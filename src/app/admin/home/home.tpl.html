<div header-admin></div>

<section class="main-content-register">
    <div class="container">
        <h1>Home Admin Page</h1>
    </div>

    <div class="row">
        <div class="col">
            <a class='btn' href='#demoModal' modal>Create Board</a>
        </div>
    </div>
    <!-- Modal Structure -->
    <div id="demoModal" class="modal">
        <div class="modal-content">
            <h4>Create Board</h4>
            <div input-field>
                <input type="text" class="modal-input" ng-model="vm.boardData.name" length="150">
                <label>Add Board Name</label>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" ng-click="vm.createBoard()" class=" modal-action waves-effect waves-green btn-flat">Create Board</a>
            <a href="javascript:;" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
        </div>
    </div>

    <div ng-show="vm.boards.length === 0 && !vm.ui.boardsLoading">
        <h1>You don't have any boards</h1>
    </div>

    <div class="row">
        <div class="col s12 m6" ng-repeat="board in vm.boards">
            <div class="card blue-grey darken-1">
                <div class="card-content white-text">
                    <span class="card-title">{{board.name}}</span>
                    <p>Cards: {{board.cards.length}}</p>
                </div>
                <div class="card-action">
                    <!--<a href="javascript:;" ui-sref="app.admin.board({id: board.id, board: board})">This is a link</a>-->
                    <a href="javascript:;" ui-sref="app.admin.board({id: board.id, board: board})">View cards</a>
                    <a href="javascript:;" ng-click="vm.showBoardDetails(board, 'edit')">Edit board</a>
                    <a href="javascript:;" ng-click="vm.showBoardDetails(board, 'delete')">Delete board</a>
                </div>
            </div>
        </div>
    </div>

</section>

<edit-card-directive
        data-show="vm.ui.editModal.show"
        data-title="{{vm.ui.editModal.title}}"
        data-action="vm.updateBoard(item)"
        data-item="vm.ui.editModal.item"
        data-type="Board">
</edit-card-directive>

<modal-directive
        data-show="vm.ui.modal.show"
        data-title="{{vm.ui.modal.title}}"
        data-action="vm.deleteBoard(item)"
        data-item="vm.ui.modal.item">
</modal-directive>

<div main-footer></div>